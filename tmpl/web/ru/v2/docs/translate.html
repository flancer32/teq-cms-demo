{% extends "inc/layout-v2.html" %}

{% block title %}Переводы — Документация v2{% endblock %}

{% block content %}
<h1>Перевод страниц через AI</h1>
<p>TeqCMS использует LLM для автоматического перевода HTML‑страниц. Процесс запускается вручную и учитывает метаданные переводов.</p>

<h2>1. Команда запуска</h2>
<pre><code>npm run translate</code></pre>
<p>CMS сравнивает дату изменения оригинала с датой последнего перевода и обновляет только устаревшие файлы.</p>

<h2>2. Хранение метаданных</h2>
<pre><code>var/teq-cms/db_translate.json</code></pre>
<p>Здесь фиксируются даты оригиналов и переводов для каждой локали.</p>

<h2>3. Структура шаблонов</h2>
<ul>
    <li>Оригиналы в <code>tmpl/web/{baseLocale}/</code></li>
    <li>Переводы в <code>tmpl/web/{targetLocale}/</code></li>
    <li>Отсутствующие или устаревшие файлы создаются автоматически</li>
</ul>

<h2>4. Промпты LLM</h2>
<p>Системный промпт можно заменить через <code>var/teq-cms/system.prompt.md</code>. Для страниц доступны локальные файлы <code>*.prompt.md</code>.</p>

<h2>5. Поддержка API</h2>
<p>Подходят все сервисы, совместимые с OpenAI API. Параметры задаются переменными окружения.</p>
{% endblock %}
